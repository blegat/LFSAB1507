\usepackage[utf8x]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

%\usepackage[usenames,dvipsnames]{color}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

\usepackage{fullpage}
\usepackage{epstopdf}
\usepackage{graphicx}
\graphicspath{{../Images/}}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{slashbox}

% draw circuits
\usepackage{tikz}

% Math symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

% Numbers and units
\usepackage{siunitx}


\usepackage{todonotes}

\usepackage{hyperref}

\usepackage{listings}
\definecolor{gray}{rgb}{0.4,0.4,0.4}
\definecolor{dkgreen}{rgb}{0.25,0.7,0.35}
\definecolor{dkred}{rgb}{0.7,0,0} 
\lstset{language=matlab,numbers=left,numberstyle=\tiny\color{gray},basicstyle=\rm\footnotesize,keywordstyle=\bfseries\color{dkred},frame=single,commentstyle=\color{gray}=small, stringstyle=\color{dkgreen}}
% Matlab import
\usepackage{xparse}% for using parameters at the end block
\NewDocumentEnvironment{mylist}{m}{%
  \begin{#1}%
  % other code
}{%
  \end{#1}%
}

\NewDocumentEnvironment{mytable}{mm}
{\begin{table}[!ht]\centering}
{\caption{#2 Valeurs obtenues par le code du listing~\ref{lst:#1}.}\label{tab:#1}\end{table}}

\NewDocumentEnvironment{myfig}{mm}
{\begin{figure}[!ht]\centering}
{\caption{#2}\label{fig:#1}\end{figure}}
\NewDocumentEnvironment{myfigsub}{mmm}
{\begin{subfigure}[b]{#3\textwidth}}
{\caption{#2}\label{fig:#1}\end{subfigure}}

\newcommand{\mysubfig}[3]
{\begin{myfigsub}{#1}{#2}{#3}
    \includegraphics[width=\textwidth]{#1.png}
\end{myfigsub}}
\newcommand{\mysubfigg}[4]
{\begin{myfigsub}{#1}{#2}{#3}
    \includegraphics[#4, width=\textwidth]{#1.png}
\end{myfigsub}}


\newcommand{\myfullfig}[3]
{\begin{figure}[!ht]
    \centering
    \includegraphics[width=#3\textwidth]{#1.png}
    \caption{#2}
    \label{fig:#1}
\end{figure}}


\newcommand{\matlabplot}[2]
{\begin{figure}[!ht]\centering
\includegraphics[width=\textwidth]{img/#1.png}
\caption{#2 Graphique obtenu par le code du listing~\ref{lst:#1}.}\label{fig:#1}\end{figure}}


\newcommand{\matlabcode}[2]
{\lstinputlisting[caption={Contenu du fichier \lstinline{#1.m}
  contenant l'impl√©mentation de la fonction \lstinline{#1}.
#2},label={lst:#1}]
{../matlab/#1.m}
}

\DeclareFontFamily{OT1}{pzc}{}
\DeclareFontShape{OT1}{pzc}{m}{it}{<-> s * [1.10] pzcmi7t}{}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}


\DeclareMathOperator{\newdiff}{d} % use \dif instead
\newcommand{\dif}{\newdiff\!}
\newcommand{\fpart}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\ffpart}[2]{\frac{\partial^2 #1}{\partial #2^2}}
\newcommand{\fdpart}[3]{\frac{\partial^2 #1}{\partial #2\partial #3}}
\newcommand{\fdif}[2]{\frac{\dif #1}{\dif #2}}
\newcommand{\ffdif}[2]{\frac{\dif^2 #1}{\dif #2^2}}
\newcommand{\constant}{\ensuremath{\mathrm{cst}}}
\newcommand{\rha}{\hat{r}^n_{MLE}}
\newcommand{\bigoh}{\mathcal{O}}
\newcommand{\F}{\mathcal{F}}

\DeclareMathOperator{\pois}{Pois}
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\var}{Var}
\DeclareMathOperator{\argmax}{argmax}

\usepackage{parskip} % Ajoute de l'espace entre les paragraphes et mets l'indentation to 0
\setlength{\parindent}{15pt} % Remets l'indentation par default

\newcommand{\figref}[1]{figure~\ref{fig:#1}}
