% TODO : ANGLE + mettre fonction matlab en latex


\chapter{General strategy}

The goal of this section is to explain the main steps of our strategy of deblurring.

As previously announced, we try to process images that are blurred. The blur in question can be either natural (motion blur, consider linear in one direction in our case), or artificial (with the function blur.m in Matlab).

We know that the blurred image $g$ is the sum of a signal $f$ (the initial image) which is convoluted by an impulse response $h$, the PSF (for Point Spread Function)and some noise $e$. So we seek to perform a deconvolution (which reverses the effects of convolution). For that, we need to know the PSF but it's generally not the case and so we have to estimate it ! 
  
\section{Estimation of PSF}

let us consider the case of a linear motion blur of the entire image with unknown angle and length of blurring. In this step we search a estimation of these two parameters that will allow us to calculate the PSF.
 
\subsection{Angle} \todo{BENOIT}
First of all we estimate the angle of blurring ... (GABOR ou RADON ??)

\subsection{Length}
When we have a good estimation of the angle, we estimate the length parameter with the Matlab function \verb|length_estimator.m|. This function requires processing on the signal cepstrum. 
\todo{Limitations}

\section{Deconvolution}

When the PSF is known, we can debluring the input image. We chose to code three differents methods of deconvolution.

The first one is Richardsonâ€“Lucy algorithm that is an iterative procedure. For that we use the Matlab function deconvlucy.m. The final result depends largely on the number of iterations.

We can also use the Wiener method. This deconvolution is a mathematical operation in the spectral domain and is applied thanks to deconvwnr.m .

Finally, we have the algorithm of Reguralization with the function deconvreg.m.

\section{Situations}

What is explained above is the general strategy. However, in the two cases selected through this work, we adapt this strategy. 
Indeed, while the case of the train just requires deblurring of an image, the surveillance camera requires the treatment of a background and a foreground blurred.

\subsection{Train}
 
The strategy of deblurring developed can be applied without modification to the case of taking an image of a train. Indeed, we have a mixting of pixels that is along the direction of the train and linearly (we assume the speed of the train constant). 

This case is similar in theory to the artificial blurring with blur.m but in practice, a real image taken from a train will be much more complicated to deblurring (many external pertubations). 

\subsection{Security camera}

This case is more complicated. We just have to deblur the foreground of image taken by the security camera(that is for instance a man running through the camera range). So we applied the strategy above with the foreground only.

First we seek to have the background (whithout foreground). For that two possibilities : the background is given or we have to estimate it with a serie of images taken by the video camera. This is possible thanks to a statistical analysis of each pixels of the images in the serie.

After that , the main difficulty is to isolate the foreground of the background and we use statistical methods for it in the function deblurcam.m which take the backgroung in argument and deblur the foreground.

As the backgroung can change with time (new item, different brightness,...), we change it in a dynamic way.

\section{Fast computing}
\todo{A faire}